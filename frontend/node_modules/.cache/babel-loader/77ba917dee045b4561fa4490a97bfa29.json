{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\GIRINEE\\\\S07P22A202\\\\frontend\\\\src\\\\components\\\\game\\\\NormalLevelController.tsx\",\n    _s = $RefreshSig$();\n\n// Systems\nimport { useState } from 'react';\nimport { useAppDispatch, useAppSelector } from '../../app/hooks';\n// Other Component \nimport useRecorder from \"./useRecorder\";\nimport { setSecond } from '../../features/chordgame/GameSlice';\nimport { setCntChord } from '../../features/chordgame/GameSlice'; // Material UI\n\nimport Button from '@mui/material/Button';\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\nimport { Stack } from '@mui/system';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function NormalLevelController() {\n  _s();\n\n  // script\n  // 준비된 기타 코드셋 5개\n  const guitarChordSets = [['A', 'B', 'C', 'D'], ['B', 'C', 'D', 'E'], ['C', 'D', 'E', 'F'], ['D', 'E', 'F', 'G'], ['E', 'F', 'G', 'A']];\n  const [whichChordset, setChordSet] = useState(['', '', '', '']); // 녹음에 필요한 정보들\n\n  const [audioURL, isRecording, startRecording, stopRecording] = useRecorder(); // 디스패치로 사용자가 슬라이더로 선택하는 시간 초 변경, 설정된 초 가져오기\n\n  const chordSecond = useAppSelector(state => state.game.chordSecond);\n  const dispatch = useAppDispatch();\n\n  const handleChange = (event, newValue) => {\n    dispatch(setSecond(newValue));\n  };\n\n  const theme = createTheme({\n    palette: {\n      primary: {\n        main: '#fff'\n      }\n    }\n  }); // 버튼 눌렀을 때 해당 코드 연습 화면으로 변경\n\n  let cntIdx = -2;\n\n  const startGame = () => {\n    const randomIdx = Math.floor(Math.random() * 5);\n    const cntChordset = guitarChordSets[randomIdx];\n    console.log(cntChordset);\n    cntIdx++; // console.log('cntIdx', cntIdx)\n\n    function plusIdx() {\n      startRecording(); // console.log('start recording')\n\n      if (cntIdx === -1) {\n        cntIdx++;\n        dispatch(setCntChord(cntChordset[cntIdx])); // console.log('cntIdx', cntIdx)\n      }\n    }\n\n    function flipChord() {\n      setInterval(function () {\n        if (cntIdx === 0 || cntIdx === 1 || cntIdx === 2) {\n          cntIdx++; // console.log('cntIdx', cntIdx)\n\n          dispatch(setCntChord(cntChordset[cntIdx]));\n        } else if (cntIdx === 3) {\n          stopRecording(); // console.log('stop recording')\n\n          cntIdx = -2;\n        }\n      }, chordSecond * 1000);\n    }\n\n    setTimeout(plusIdx, 3000);\n    setTimeout(flipChord, 3000);\n    setChordSet(prev => cntChordset);\n  };\n\n  const accessToken = window.localStorage.getItem('accessToken');\n\n  const checkRecord = () => {\n    const fullAudio = audioURL;\n    console.log(fullAudio.size); // full Audio 자르기\n    // const [Chord_1, Chord_2, Chord_3, Chord_4] = cntChordset\n    // console.log(Chord_1)\n    // console.log(Chord_2)\n    // console.log(Chord_3)\n    // console.log(Chord_4)\n\n    const data = new FormData(); // Axios\n    // axios.post('https://j7a202.p.ssafy.io/', data, {\n    //   headers: {\n    //     Authorization: `Bearer ${accessToken}`,\n    //     'Content-Type': 'multipart/form-data',\n    //     },\n    //   })\n    //   .then((response) => {\n    //     console.log(response.data)\n    //   })\n    //   .catch((error)=> {\n    //     console.log(error)\n    //   })\n  }; // JSX\n\n\n  return /*#__PURE__*/_jsxDEV(Stack, {\n    alignItems: \"center\",\n    spacing: 5,\n    children: [/*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        id: \"normal-start-btn\",\n        variant: \"outlined\",\n        className: \"white-text\",\n        disabled: isRecording,\n        onClick: startGame,\n        children: \"\\uC2DC \\uC791 \\uD558 \\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        id: \"normal-check-btn\",\n        variant: \"outlined\",\n        className: \"white-text\",\n        disabled: isRecording || audioURL === \"\",\n        onClick: checkRecord,\n        children: \"\\uCC44 \\uC810 \\uD558 \\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 7\n  }, this);\n}\n\n_s(NormalLevelController, \"W/759fCYwfP2g1dvAYh9rViNe0w=\", false, function () {\n  return [useRecorder, useAppSelector, useAppDispatch];\n});\n\n_c = NormalLevelController;\n\nvar _c;\n\n$RefreshReg$(_c, \"NormalLevelController\");","map":{"version":3,"names":["useState","useAppDispatch","useAppSelector","useRecorder","setSecond","setCntChord","Button","createTheme","ThemeProvider","Stack","NormalLevelController","guitarChordSets","whichChordset","setChordSet","audioURL","isRecording","startRecording","stopRecording","chordSecond","state","game","dispatch","handleChange","event","newValue","theme","palette","primary","main","cntIdx","startGame","randomIdx","Math","floor","random","cntChordset","console","log","plusIdx","flipChord","setInterval","setTimeout","prev","accessToken","window","localStorage","getItem","checkRecord","fullAudio","size","data","FormData"],"sources":["C:/Users/user/Desktop/GIRINEE/S07P22A202/frontend/src/components/game/NormalLevelController.tsx"],"sourcesContent":["// Systems\r\nimport { useState, useEffect, useRef } from 'react'\r\nimport { Link } from \"react-router-dom\"\r\nimport { AnimatePresence } from 'framer-motion'\r\nimport { useAppDispatch, useAppSelector } from '../../app/hooks'\r\nimport axios from 'axios'\r\n\r\n// Other Component \r\nimport useRecorder from \"./useRecorder\"\r\nimport { setSecond } from '../../features/chordgame/GameSlice'\r\nimport { setCntChord } from '../../features/chordgame/GameSlice'\r\n\r\n// Material UI\r\nimport Button from '@mui/material/Button'\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles'\r\nimport { Stack } from '@mui/system'\r\n\r\n\r\nexport function NormalLevelController() {\r\n    // script\r\n    // 준비된 기타 코드셋 5개\r\n    const guitarChordSets = [['A', 'B', 'C', 'D'], ['B', 'C', 'D', 'E'], ['C', 'D', 'E', 'F'],['D', 'E', 'F', 'G'],['E', 'F', 'G', 'A']]\r\n\r\n    const [whichChordset, setChordSet] = useState(['','','',''])\r\n    // 녹음에 필요한 정보들\r\n    const [audioURL, isRecording, startRecording, stopRecording]:any[] = useRecorder()\r\n\r\n    // 디스패치로 사용자가 슬라이더로 선택하는 시간 초 변경, 설정된 초 가져오기\r\n    const chordSecond:number = useAppSelector((state) => state.game.chordSecond)\r\n    const dispatch = useAppDispatch()\r\n    const handleChange = (event: Event, newValue: number | number[]) => {\r\n      dispatch(setSecond(newValue as number));\r\n    }\r\n    \r\n    const theme = createTheme({\r\n      palette: {\r\n        primary: {\r\n          main: '#fff',          \r\n        },\r\n      },\r\n    })   \r\n\r\n    // 버튼 눌렀을 때 해당 코드 연습 화면으로 변경\r\n    let cntIdx = -2\r\n\r\n    const startGame = () => {\r\n      const randomIdx = Math.floor(Math.random() * 5)\r\n      const cntChordset = guitarChordSets[randomIdx]\r\n\r\n      console.log(cntChordset);\r\n      \r\n      cntIdx++\r\n      // console.log('cntIdx', cntIdx)\r\n\r\n      function plusIdx() {\r\n          startRecording()\r\n          // console.log('start recording')\r\n          if (cntIdx === -1) {\r\n            cntIdx++\r\n            dispatch(setCntChord(cntChordset[cntIdx] as string))\r\n            // console.log('cntIdx', cntIdx)\r\n          }\r\n        }\r\n\r\n      function flipChord() {setInterval(function() {\r\n          if (cntIdx === 0 || cntIdx === 1 || cntIdx === 2) {\r\n            cntIdx++\r\n            // console.log('cntIdx', cntIdx)\r\n            dispatch(setCntChord(cntChordset[cntIdx] as string))\r\n          } else if (cntIdx === 3) {\r\n            stopRecording()\r\n            // console.log('stop recording')\r\n            cntIdx = -2\r\n          }\r\n        }, chordSecond*1000)\r\n      }\r\n\r\n      setTimeout(plusIdx, 3000)\r\n      setTimeout(flipChord, 3000)\r\n      setChordSet((prev) => cntChordset)\r\n    }\r\n\r\n    const accessToken = window.localStorage.getItem('accessToken')\r\n\r\n    const checkRecord = () => {\r\n      const fullAudio = audioURL\r\n      console.log(fullAudio.size)\r\n      // full Audio 자르기\r\n      // const [Chord_1, Chord_2, Chord_3, Chord_4] = cntChordset\r\n      // console.log(Chord_1)\r\n      // console.log(Chord_2)\r\n      // console.log(Chord_3)\r\n      // console.log(Chord_4)\r\n\r\n      const data = new FormData()\r\n\r\n      // Axios\r\n      // axios.post('https://j7a202.p.ssafy.io/', data, {\r\n      //   headers: {\r\n      //     Authorization: `Bearer ${accessToken}`,\r\n      //     'Content-Type': 'multipart/form-data',\r\n      //     },\r\n      //   })\r\n      //   .then((response) => {\r\n      //     console.log(response.data)\r\n      //   })\r\n      //   .catch((error)=> {\r\n      //     console.log(error)\r\n      //   })\r\n    }\r\n      \r\n    // JSX\r\n    return (\r\n      <Stack alignItems=\"center\" spacing={5}>\r\n        <ThemeProvider theme={theme}>\r\n          <Button id=\"normal-start-btn\" variant=\"outlined\" className=\"white-text\" disabled={isRecording} onClick={startGame}>시 작 하 기</Button>\r\n        </ThemeProvider>\r\n        <ThemeProvider theme={theme}>\r\n          <Button id=\"normal-check-btn\" variant=\"outlined\" className=\"white-text\" disabled={isRecording || audioURL===\"\"} onClick={checkRecord}>채 점 하 기</Button>\r\n        </ThemeProvider>\r\n      </Stack>\r\n    )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}